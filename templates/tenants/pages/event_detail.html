{% extends 'tenants/base.html' %}
{% load webpack_static from webpack_loader %}

{% block title %}
  {{ block.super }} | {{ event.title }}
{% endblock %}

{% block content %}
  <div class="event-dt-block p-80">
    <div class="container">
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12">
          <div class="event-top-dts">
            <div class="event-top-date">
              <span class="event-month">{{ event.start_at|date:'M' }}</span>
              <span class="event-date">{{ event.start_at|date:'d' }}</span>
            </div>
            <div class="event-top-dt">
              <h3 class="event-main-title">{{ event.title }} {{ event.start_at|date:'l F j, Y' }} at {{ event.start_at|date:'gA' }}</h3>
              <div class="event-top-info-status">
                <span class="event-type-name"><i class="fa-solid fa-location-dot"></i>Venue Event</span>
                <span class="event-type-name details-hr">Starts on <span class="ev-event-date">{{ event.start_at|date:'D, M d, Y g:i A' }}</span></span>
                <span class="event-type-name details-hr">2h</span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-8 col-lg-7 col-md-12">
          <div class="main-event-dt">
            <div class="event-img">
              <img src="{% if event.cover %}
                  {{ event.cover.url }}
                {% else %}
                  {% webpack_static 'images/events/placeholder.jpg' %}
                {% endif %}"
                alt="{{ event.title }}"
                style="width: 65%; height:50%" />
            </div>
            <div class="share-save-btns dropdown">
              <button class="sv-btn me-2"><i class="fa-regular fa-bookmark me-2"></i>Save</button>
              <button class="sv-btn" data-bs-toggle="dropdown" aria-expanded="false"><i class="fa-solid fa-share-nodes me-2"></i>Share</button>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="#"><i class="fa-brands fa-facebook me-3"></i>Facebook</a>
                </li>
                <li>
                  <a class="dropdown-item" href="#"><i class="fa-brands fa-twitter me-3"></i>Twitter</a>
                </li>
                <li>
                  <a class="dropdown-item" href="#"><i class="fa-brands fa-linkedin-in me-3"></i>LinkedIn</a>
                </li>
                <li>
                  <a class="dropdown-item" href="#"><i class="fa-regular fa-envelope me-3"></i>Email</a>
                </li>
              </ul>
            </div>
            <div class="main-event-content">
              <h4>About This Event</h4>
              <p>{{ event.short_description|safe }}</p>
            </div>
          </div>
        </div>
        <div class="col-xl-4 col-lg-5 col-md-12">
          <div class="main-card event-right-dt">
            <div class="bp-title d-flex align-items-center justify-content-between">
              <h4>Event Details</h4>
              <span class="event-price me-2">Available tickets (33)</span>
            </div>
            <div class="time-left">
              <div class="countdown">
                <div class="countdown-item">
                  <span id="day"></span>days
                </div>
                <div class="countdown-item">
                  <span id="hour"></span>Hours
                </div>
                <div class="countdown-item">
                  <span id="minute"></span>Minutes
                </div>
                <div class="countdown-item">
                  <span id="second"></span>Seconds
                </div>
              </div>
            </div>
            <div class="event-dt-right-group mt-5">
              <div class="event-dt-right-icon">
                <i class="fa-solid fa-circle-user"></i>
              </div>
              <div class="event-dt-right-content">
                <h4>Organized by</h4>
                <h5>The {{ request.tenant.owner }}</h5>
                <a href="#">View Profile</a>
              </div>
            </div>
            <div class="event-dt-right-group">
              <div class="event-dt-right-icon">
                <i class="fa-solid fa-calendar-day"></i>
              </div>
              <div class="event-dt-right-content">
                <h4>Date and Time</h4>
                <h5>{{ event.start_at|date:'D, M d, Y g:i A' }}</h5>
                <div class="add-to-calendar">
                  <a href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fa-regular fa-calendar-days me-3"></i>Add to Calendar</a>
                  <ul class="dropdown-menu">
                    <li>
                      <a class="dropdown-item" href="#"><i class="fa-brands fa-windows me-3"></i>Outlook</a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#"><i class="fa-brands fa-apple me-3"></i>Apple</a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#"><i class="fa-brands fa-google me-3"></i>Google</a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#"><i class="fa-brands fa-yahoo me-3"></i>Yahoo</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="event-dt-right-group">
              <div class="event-dt-right-icon">
                <i class="fa-solid fa-location-dot"></i>
              </div>
              <div class="event-dt-right-content">
                <h4>Location</h4>
                <h5 class="mb-0">{{ event.venue_name }} | {{ event.venue_address }}</h5>
                <a href="#"><i class="fa-solid fa-location-dot me-2"></i>View Map</a>
              </div>
            </div>
            <div class="select-tickets-block">
              <h6>Select Tickets</h6>
              <div class="select-ticket-action">
                <div class="ticket-price">AUD $75.00</div>
                <div class="quantity">
                  <div class="counter">
                    <span class="down">-</span>
                    <input type="text" value="0" />
                    <span class="up">+</span>
                  </div>
                </div>
              </div>
              <p>2 x pair hand painted leather earrings 1 x glass of bubbles / or coffee Individual grazing box / fruit cup</p>
              <div class="xtotel-tickets-count">
                <div class="x-title">1x Ticket(s)</div>
                <h4>AUD <span>$0.00</span></h4>
              </div>
            </div>
            <div class="booking-btn">
              <a href="{% url 'tenants:event_ticket_checkout' event.slug %}" class="main-btn btn-hover w-100">Purchase Ticket</a>
            </div>
          </div>
        </div>

        <div class="col-xl-12 col-lg-12 col-md-12">
          <div class="more-events">
            <div class="main-title position-relative">
              <h3>More Events</h3>
            </div>

            <!-- Swiper Container -->
            <div class="swiper moreEvents-slider">
              <div class="swiper-wrapper">
                {% for item in events %}
                  <!-- Slide {{forloop.counter}} -->
                  <div class="swiper-slide">
                    <div class="main-card mt-4">
                      <div class="event-thumbnail">
                        <a href="{{ item.get_absolute_url }}" class="thumbnail-img">
                          <img src="{% if item.cover %}
                              {{ item.cover.url }}
                            {% else %}
                              {% webpack_static 'images/events/placeholder.jpg' %}
                            {% endif %}"
                            alt="{{ item.title }}" />
                        </a>
                        <span class="bookmark-icon d-flex align-items-center justify-content-between"><i class="fa-regular fa-bookmark"></i></span>
                      </div>
                      <div class="event-content">
                        <a href="{{ item.get_absolute_url }}" class="event-title mb-1">{{ item.title }}</a>
                        <div class="duration-price-remaining">{{ item.short_description|truncatewords:15 }}</div>
                      </div>
                      <div class="event-footer">
                        <div class="event-timing">
                          <div class="publish-date">
                            <span>
                              <i class="fa-solid fa-calendar-day me-2"></i>
                              {{ item.start_at|date:'d M' }}
                            </span>
                            <span class="dot"><i class="fa-solid fa-circle"></i></span>
                            <span>{{ item.start_at|date:'D, g.i A' }}</span>
                          </div>
                          <span class="publish-time"><i class="fa-solid fa-clock me-2"></i>1h</span>
                        </div>
                      </div>
                    </div>
                  </div>
                {% endfor %}

                <!-- Add more swiper-slide blocks here -->
              </div>

              <!-- If you want navigation -->
              <div class="swiper-button-next"></div>
              <div class="swiper-button-prev"></div>

              <!-- If you want pagination -->
              <div class="swiper-pagination"></div>
            </div>
            <!-- End Swiper -->
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
